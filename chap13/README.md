HighPerformance
=============

HighPerformance


## 13

## 13.1

* ベストプラクティス
	* DNSルックアップ減らす
	* TCP接続の再利用
	* HTTPリダイレクト減らす
	* リソース減らす
	* クライアントにキャッシュ
	* リソース圧縮
	* クッキーの利用を控える

## 13.1.1

* リソースをクライアントにキャッシュ
	* Cache-Controlヘッダでキャッシュ生存時間を指定
	* Last-Modified, Etagヘッダ

* HTTPトラフィックを調査すれば20%ほどはキャッシュされてない

## 13.1.2

* HTML, CSS ,JSはgzip圧縮
* 画像フォーマットはよく検討する
* webp
	* Googleが提唱する新しい画像フォーマット

## 13.1.3

* クッキー排除
* クッキーはサイズに制限を設けているがオーバーヘッド高い

## 13.1.4

* アプリで最速のレスポンスを得る
	* キープアライブ使う
	* HTTP1.0 -> 1.1にする
	* HTTP1.1パイプライン
	* HTTP2.0使う

* ブラウザでリソースのレンダリング順の最適化はされている

## 13.2

* HTTP1.xを最適化
	* HTTPパイプライン利用
	* ドメインシャーディング
	* リソースバンドル化
		* スプライト
	* インライン化 


## 13.3

* HTTP2.0を最適化
	* TCPのcwndを10セグメントから開始
	* TLSとALPNネゴシエーションをサポート
	* TLSセッション再開をサポート

## 13.3.1

* 1オリジン1接続
	* 単一オリジンに全リソースを配置
	* ドメインシャーディングはアンチパターン
* バンドル化をやめる
	* 不要なファイル結合とスプライト削除
* サーバプッシュ使う



## 13.3.2

デュアルプロトコル

## 13.3.3

HTTP1.xサーバのために変換装置を置く

## 13.3.4

HTTP2.0サーバはチューニングがいる

## 13.3.5

TLS接続はユーザに近い位置で終端させる

## 13.3.6

インフラのどこでTLS接続が終端するか、その機器がALPNネゴシエーションに対応しているかを知っておく
